<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<nav class="bg-[#66b2b4] border-b py-3">
  <div class="container mx-auto flex justify-between items-center px-4">
    <a class="text-lg font-semibold text-gray-700 cursor-pointer" (click)="navigateTo('home')">Online Shop</a>

    <div class="hidden md:flex items-center space-x-6">
      <ul class="flex space-x-4">
        <li><a class="text-gray-700 hover:text-blue-600 cursor-pointer" (click)="navigateTo('home')">Home</a></li>
        <li><a class="text-gray-700 hover:text-blue-600 cursor-pointer" (click)="navigateTo('products')">Products</a></li>
      </ul>

      <ul class="flex space-x-6 items-center">
        <li *ngIf="!isLogin">
          <a class="text-gray-700 hover:text-blue-600 cursor-pointer" (click)="navigateTo('login')">Login</a>
        </li>
        <li *ngIf="!isLogin">
          <a class="text-gray-700 hover:text-blue-600 cursor-pointer" (click)="navigateTo('signup')">Signup</a>
        </li>

        <li *ngIf="isLogin"><a class="text-gray-700 hover:text-blue-600 cursor-pointer" (click)="navigateTo('cart')"><i class="fa-solid fa-cart-shopping"></i></a></li>
        <li *ngIf="isLogin"><a class="text-gray-700 hover:text-blue-600 cursor-pointer" (click)="navigateTo('wishlist')"><i class="fa-regular fa-heart"></i></a></li>
        <li *ngIf="isLogin">
          <a class="text-gray-700 cursor-pointer flex items-center gap-1 hover:text-blue-600" (click)="toggleSidebar()">
            User Settings <i class="fa-solid fa-chevron-right ml-1"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="md:hidden flex items-center space-x-4">
      <a class="text-gray-700 text-xl cursor-pointer" (click)="navigateTo('home')"><i class="fa-solid fa-house"></i></a>
      <a class="text-gray-700 text-xl cursor-pointer" (click)="navigateTo('products')"><i class="fa-solid fa-box-open"></i></a>

      <a *ngIf="!isLogin" class="text-gray-700 text-xl cursor-pointer" (click)="navigateTo('login')"><i class="fa-solid fa-sign-in-alt"></i></a>
      <a *ngIf="!isLogin" class="text-gray-700 text-xl cursor-pointer" (click)="navigateTo('signup')"><i class="fa-solid fa-user-plus"></i></a>

      <a *ngIf="isLogin" class="text-gray-700 text-xl cursor-pointer" (click)="navigateTo('cart')"><i class="fa-solid fa-cart-shopping"></i></a>
      <a *ngIf="isLogin" class="text-gray-700 text-xl cursor-pointer" (click)="navigateTo('wishlist')"><i class="fa-regular fa-heart"></i></a>

      <!-- تعديل هنا: إخفاء زر User Settings إذا لم يكن المستخدم مسجل دخول -->
      <button *ngIf="isLogin" class="text-gray-700 text-2xl cursor-pointer" 
              type="button" aria-label="Toggle navigation" 
              (click)="toggleSidebar()">
        <i class="fa-solid fa-user"></i>
      </button>
    </div>
  </div>
</nav>

<!-- Sidebar Overlay -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity cursor-pointer" *ngIf="sidebarOpen" (click)="closeSidebar()"></div>

<!-- Sidebar -->
<div class="fixed right-0 top-0 h-full w-64 bg-white shadow-lg z-50 transition-transform duration-300"
     [class.translate-x-full]="!sidebarOpen">
  <div class="p-4 border-b flex justify-between items-center">
    <h3 class="text-lg font-semibold text-gray-700">User Settings</h3>
    <button class="text-gray-600 hover:text-red-600 cursor-pointer" (click)="closeSidebar()">❌</button>
  </div>

  <ul class="p-4 space-y-3">
    <li><a class="block text-gray-700 hover:text-blue-600 py-2 cursor-pointer" (click)="navigateTo('profile')">Profile</a></li>
    <li><a class="block text-gray-700 hover:text-blue-600 py-2 cursor-pointer" (click)="navigateTo('myOrders')">My Orders</a></li>
    <li><a class="block text-gray-700 hover:text-blue-600 py-2 cursor-pointer" (click)="navigateTo('myReviews')">My Reviews</a></li>
    <li><button class="w-full text-left text-red-600 hover:text-red-800 py-2 cursor-pointer" (click)="logout()">Logout</button></li>
  </ul>
</div>  
